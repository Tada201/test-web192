---
title: "Collection Framework in Java"
sidebar_label: "Collections"
sidebar_position: 8
description: "Java Collections Framework, ADTs, List, Set, Map, and supporting classes."
tags: ["Key Concepts"]
---

# Collection Framework in Java

In almost all real problems, data related to a problem are groups, each group contains many objects. A group of objects is called a **collection**. In Java, a collection framework is introduced to support tools for managing collections more easily.

## Overview of Abstract Data Types

An **abstract data type (ADT)** is a mathematical model for a data type, defined by its behaviors from the user's point of view. In Java, ADTs are often declared as interfaces. Collections, sets, and maps are all ADTs.

- Add new element
- Search an element
- Remove an element
- Traverse (access all elements one-by-one)
- Sort elements

*ADT (mathematical model, user view) contrasts with data structure, which is a concrete representation of data (implementer view, physical view).*

## Java Collections Framework

The Java Collections Framework provides a unified architecture for representing and manipulating collections. It includes interfaces, implementations, and algorithms for working with groups of objects.

- Reduces programming effort by providing data structures and algorithms so you don't have to write them yourself.
- Increases performance by providing high-performance implementations of data structures and algorithms.
- Provides interoperability between unrelated APIs by establishing a common language to pass collections back and forth.
- Reduces the effort required to learn APIs by requiring you to learn multiple ad hoc collection APIs.
- Reduces the effort required to design and implement APIs by not requiring you to produce ad hoc collections APIs.
- Fosters software reuse by providing a standard interface for collections and algorithms with which to manipulate them.

![Collections framework interface structure](/media/7.01.webp)
![Collection Implementations](/media/7.0.1.1.webp)

For more details, see the [Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/package-tree.html).

## List and ArrayList

All references to elements are stored in a one-dimensional array, called an array list. This organization can be used to store arbitrary elements and they can be duplicated.

![ArrayList demonstration](/media/7.02.webp)
![ArrayList characteristics](/media/7.0.2.2.webp)

If objects in a collection do not belong to the same class, references in a collection will behave as references to objects of the Object class. Based on OOP inheritance, the following assignment is valid: `Father_reference = Son_reference;`

When using generics, you can specify the element type for type safety and to avoid casting.

```java
ArrayList<Rectangle> list = new ArrayList<>();
list.add(new Rectangle(2, 3));
Rectangle r = list.get(0); // No cast needed
```

### Demonstrations

**Demonstration 1:** Using an ArrayList of arbitrary elements.

![ArrayList arbitrary elements](/media/7.03a.webp)
![Objects of Rectangle in ArrayList](/media/7.03b.webp)

**Experiment:** If you want to call a method specific to a subclass, you must cast.

**Demonstration 2:** Using an ArrayList for storing the same-type elements.

![ArrayList same-type elements](/media/7.04.webp)

**Demonstration 3:** Managing a list of students with ArrayList.

![Class Design](/media/7.05.webp)
![Algorithm 1](/media/7.06a.webp)
![Algorithm 2](/media/7.06b.webp)
![Algorithm 3](/media/7.06c.webp)
![Algorithm 4](/media/7.06d.webp)
![Algorithm 5](/media/7.06e.webp)
![Algorithm 6](/media/7.06f.webp)
![Algorithm 7](/media/7.06g.webp)
![Algorithm 8](/media/7.06h.webp)
![Algorithm 9](/media/7.06i.webp)
![Algorithm 10](/media/7.06j.webp)
![Algorithm 11](/media/7.06k.webp)

**Test cases:**
```text
Student managing Program
1-Add new student
2-Search a student
3-Update name and mark
4-Remove a student
5-List all
6-Quit
Choose 1..6:
```

## Set and TreeSet

A **Set** is a group of distinct objects. The **TreeSet** class stores elements in a sorted, self-balancing tree structure. Duplicates are not allowed.

![TreeSet structure](/media/7.07.webp)

TreeSet is implemented as a [self-balanced ordered tree](https://www.tutorialspoint.com/data_structures_algorithms/avl_tree_algorithm.htm). It guarantees log(n) time cost for the basic operations (add, remove, and contains).

- A sorted group must be maintained.
- Search operation must have high performance.

Elements must implement `Comparable` or a `Comparator` must be provided. The ordering maintained by a set must be consistent with equals if it is to correctly implement the Set interface.

### Demonstrations

**Demonstration 1:** The Student class does not implement any comparison method, so a compile-time error occurs.

![TreeSet error](/media/7.13.webp)

**Demonstration 2:** TreeSet of integers (Integer implements Comparable, no duplicates allowed).

![TreeSet of integers](/media/7.14.webp)

**Demonstration 3:** TreeSet of user-defined objects (Student), with add, search, remove, ascending and descending traversal.

![TreeSet students a](/media/7.15a.webp)
![TreeSet students b](/media/7.15b.webp)
![TreeSet students c](/media/7.15c.webp)
![TreeSet students d](/media/7.15d.webp)
![TreeSet students e](/media/7.15e.webp)
![TreeSet students output](/media/7.15f.webp)

## Map and HashMap

A **Map** associates unique keys with values. The **HashMap** class provides a hash-table-based implementation of the Map interface, allowing fast access to values by key.

![Map structure](/media/7.16.webp)

A Map is like a dictionary. Maps check for key uniqueness based on the `equals()` method, not the `==` operator. The key can be a number or a string (such as Student ID, product ID).

![Hash function and hash-table](/media/7.17.webp)

A hash-table is a set of subsets but the position index is determined by a function, called a **hash function (h)**. The mathematical operation, **modulo** (or mod/ % in programming languages), is commonly used in hash functions.

This implementation provides constant-time performance for the basic operations (get and put), assuming the hash function disperses the elements properly among the buckets.

For more details, see the [Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html).

### Demonstration

**Demonstration 1:** An empty hashmap is initiated, then some persons (nickName, person) are put and some basic operations on hashmap are performed.

![HashMap demo 1](/media/7.18a.webp)
![HashMap demo 2](/media/7.18b.webp)
![HashMap demo 3](/media/7.18c.webp)
![HashMap demo 4](/media/7.18d.webp)
![HashMap demo 5](/media/7.18e.webp)
![HashMap demo 6](/media/7.18f.webp)
![HashMap output](/media/7.18g.webp)

## Supporting Classes

Along with the Collections framework, the **java.util** package also contains supporting classes in which many operations on collections and arrays are implemented. Almost all of these methods are public static. Actions such as sorting, shuffling, copying, searching, composition, finding extreme values (min, max), etc. are implemented.

| Supporting class           | Parameter of methods |
|---------------------------|---------------------|
| Java.util.Collections     | Collection          |
| Java.util.Arrays          | Array               |

[Read more Collections in Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/Collections.html)  
[Read more Arrays in Javadoc](https://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html)

**Demonstration:** An ArrayList of employees will be sorted with two mechanisms: (1) sorting by ascending ID; (2) Sorting by descending order by salary.

![Sorting ArrayList of employees](/media/7.19a.webp)
![Sorting by salary](/media/7.19b.webp)
![Sorting output](/media/7.19c.webp)
![Sorting output 2](/media/7.19d.webp)

## Summary

- Abstract data type (ADT) is a mathematical model for a data type that is determined based on generalization in which data structure is omitted. In programming languages, an ADT is commonly declared as an interface
- Collection, Set, Map are ADTs
- Java Collections framework, in the java.util package, supports all basic common manipulations on collections, maps, and basic algorithms on collections, arrays are implemented in two supporting classes Collections, Arrays.
- Suggestions for choosing a class for managing a group of elements:

| Group characteristics | The class should be chosen |
|-----------------------|---------------------------|
| Elements can be duplicated | Java.util.ArrayList |
| Elements must be distinct and sorted and each operation needs high performance. | Java.util.TreeSet |
| Each element contains a unique key and operations must have very high performance | Java.util.HashMap |

For extra operations on collections and arrays such as sorting, copying, etc., refer to classes: java.util.Collections and java.util.Arrays.

## Course Slide

- [Collections.pdf](/resource/Collections.pdf)

## Reading

- [Support Classes.pdf](/resource/Support%20Classes.pdf)
